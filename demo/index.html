<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">
    <title>export-options demo</title>
    <script src="../../webcomponentsjs/webcomponents-loader.js"></script>
    <link rel="import" href="../../shadycss/apply-shim.html">
    <link rel="import" href="../../polymer/lib/elements/custom-style.html">
    <link rel="import" href="../../polymer/lib/elements/dom-bind.html">
    <link rel="import" href="../../neon-animation/web-animations.html">
    <link rel="import" href="../../iron-demo-helpers/demo-pages-shared-styles.html">
    <link rel="import" href="../../iron-demo-helpers/demo-snippet.html">
    <link rel="import" href="../../arc-electron-default-theme/arc-electron-default-theme.html">
    <link rel="import" href="../export-options.html">
    <style>
    body,
    html {
      background-color: #e5e5e5;
      height: 100vh;
      margin: 0;
      padding: 0;
    }

    html {
      --paper-chip-autocomplete-background-color: #fff;
    }

    output {
      display: block;
      white-space: pre-wrap;
      padding: 8px;
      background-color: #FFF8E1;
      margin-top: 20px;
    }

    .card {
      padding: 20px;
      margin-top: 20px;
      margin-bottom: 20px;
      box-sizing: border-box;
      background-color: #fff;
    }
    </style>
    <custom-style>
      <style is="custom-style" include="demo-pages-shared-styles">
      .card {
        @apply --shadow-elevation-4dp;
      }
      </style>
    </custom-style>
  </head>
  <body>
    <dom-bind id="demo">
      <template is="dom-bind">
        <div class="vertical-section-container centered card" role="main">
          <export-options file="my-demo-file.json" provider="drive" on-accept="_acceptHandler"></export-options>
          <template is="dom-if" if="[[values]]">
            <output>[[values]]</output>
          </template>
        </div>
      </template>
    </dom-bind>
    <script>
    window.addEventListener('google-drive-list-app-folders', (e) => {
      e.preventDefault();
      e.detail.result = Promise.resolve([{
        name: 'My APIs',
        id: 'folder1'
      }, {
        name: 'Company\'s APIs',
        id: 'folder2'
      }, {
        name: 'Developing',
        id: 'folder3'
      }]);
    });
    (function(app) {
      app._acceptHandler = function(e) {
        app.values = JSON.stringify(e.detail, null, 2);
      };
    })(document.getElementById('demo'));
  </script>
  </body>
</html>
